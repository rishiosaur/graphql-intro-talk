import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { github } from "@code-surfer/themes";
import Code from "mdx-code";
import { Notes } from "mdx-deck";

export const theme = {
  fonts: {
    body: '"Inter", system-ui, sans-serif',
    heading: '"Inter", sans-serif',
    monospace: "Fira Code,Jetbrains Mono, monospace",
  },
  colors: {
    text: "#FFF",
    background: "#000",
    primary: "#e3116c",
  },
  styles: {
    CodeSurfer: {
      tokens: {
        "comment prolog doctype cdata": {
          color: "#999988",
          fontStyle: "italic",
        },
        namespace: {
          opacity: 0.7,
        },
        "string attr-value": {
          color: "#e3116c",
        },
        "punctuation operator": {
          color: "#FFF",
        },
        "entity url symbol number boolean variable constant property regex inserted": {
          color: "#36acaa",
        },
        "atrule keyword attr-name selector": {
          color: "#00a4db",
        },
        "function deleted tag": {
          color: "#d73a49",
        },
        "function-variable": {
          color: "#6f42c1",
        },
        "tag selector": {
          color: "#00009f",
        },
      },
      title: {
        backgroundColor: "#000",
        color: "#FFF",
      },
      subtitle: {
        color: "#000",
        backgroundColor: "#fff",
      },
      pre: {
        color: "#FFF",
        backgroundColor: "#000",
      },
      code: {
        color: "#FFF",
        backgroundColor: "#000",
      },
    },
  },
};

export const pres = {
  fonts: {
    body: '"Inter", system-ui, sans-serif',
    heading: '"Inter", sans-serif',
    monospace: "'Inter'",
  },
  colors: {
    text: "#FFF",
    background: "#000",
    primary: "#e3116c",
  },
  styles: {
    CodeSurfer: {
      tokens: {
        "comment prolog doctype cdata": {
          color: "#999988",
          fontStyle: "italic",
        },
        namespace: {
          opacity: 0.7,
        },
        "string attr-value": {
          color: "#e3116c",
        },
        "punctuation operator": {
          color: "#FFF",
        },
        "entity url symbol number boolean variable constant property regex inserted": {
          color: "#36acaa",
        },
        "atrule keyword attr-name selector": {
          color: "#00a4db",
        },
        "function deleted tag": {
          color: "#d73a49",
        },
        "function-variable": {
          color: "#6f42c1",
        },
        "tag selector": {
          color: "#00009f",
        },
      },
      title: {
        backgroundColor: "#000",
        color: "#FFF",
        fontSize: "150%",
      },
      subtitle: {
        color: "#000",
        backgroundColor: "#fff",
      },
      pre: {
        color: "#FFF",
        backgroundColor: "#000",
      },
      code: {
        color: "#FFF",
        backgroundColor: "#000",
        fontFamily: "system-ui",
        lineHeight: 1.6,
      },
    },
  },
};

export const Highlight = (props) => (
  <span
    style={{
      background: "rgb(255,0,106)",
      background:
        "linear-gradient(63deg, rgba(255,0,106,1) 0%, rgba(110,106,175,1) 46%, rgba(0,230,255,1) 100%)",
      padding: "0.5em",
      display: "inline-block",
    }}
  >
    {props.children}
  </span>
);

<h1>
  {" "}
  Intro to <Highlight>
    <span>GraphQL</span>
  </Highlight> 🕸
</h1>

---

<CodeSurfer theme={pres}>

```js title="Who am I?"
// rishi.ts
export const name = "Rishi Kothari 👋👨‍💻";
```

```js title="Who am I?"
// rishi.ts
export const name = "Rishi Kothari 👋👨‍💻";
export const location = "📚📍 Brampton";
export const age = 15;
```

```js title="Who am I?"
// rishi.ts
export const name = "Rishi Kothari 👋👨‍💻";
export const location = "📚📍 Brampton";
export const age = 15;
export const getLoves = [
  "Formula One",
  "Typescript",
  "Open Source",
  "GraphQL",
].sort(() => 0.5 - Math.random())[0];
```

```js title="Who am I?"
// rishi.ts
export const name = "Rishi Kothari 👋👨‍💻";
export const location = "📚📍 Brampton";
export const age = 15;
export const getLoves = [
  "Formula One",
  "Typescript",
  "Open Source",
  "GraphQL",
].sort(() => 0.5 - Math.random())[0];
export const socials = {
  most: "@rishiosaur",
  web: "rishi.cx",
};
```

</CodeSurfer>

  return aliqua;
}
```

```js
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null ? 0 : ipsum.sit;
  dolor = sit - amet(dolor);
  return sit
    ? consectetur(ipsum, 0, dolor < 0 ? 0 : dolor)
    : [];
}

function adipiscing(...elit) {
  if (!elit.sit) {
    return [];
  }

  const sed = elit[0];
  return eiusmod.tempor(sed) ? sed : [sed];
}

function incididunt(ipsum, ut = 1) {
  ut = labore.et(amet(ut), 0);
  const sit = ipsum == null ? 0 : ipsum.sit;

  if (!sit || ut < 1) {
    return [];
  }

  let dolore = 0;
  let magna = 0;
  const aliqua = new eiusmod(labore.ut(sit / ut));

  while (dolore < sit) {
    aliqua[magna++] = consectetur(
      ipsum,
      dolore,
      (dolore += ut)
    );
  }

  return aliqua;
}
```

```diff 1[10:14],2[15:19],3[22:27],10:12

```

</CodeSurfer>

---

<CodeSurferColumns themes={[theme, github]}>

<Step>

```js
fetch(`https://api.spacex.land/rest/capsules-upcoming`)
  .then((resp) => resp.json())
  .then(console.log);
```

```js
const fetchSpaceX = fetch(
  `https://api.spacex.land/graphql`,
  {
    body: JSON.stringify({
      query: `
        {
  capsulesUpcoming {
    status
    id
    type
  }
}
      `,
    }),
  }
)
  .then((resp) => resp.json())
  .then(console.log);
```

</Step>

<Step>

```js
const urls = ["capsules-upcoming", "capsules", "cores"];

Promise.all(
  urls.map((id) =>
    fetch(
      `https://api.spacex.land/rest/${id}`
    ).then((resp) => resp.json())
  )
).then(console.log);
```

```js
const fetchSpaceX = fetch(
  `https://api.spacex.land/graphql`,
  {
    body: JSON.stringify({
      query: `
        {
  capsulesUpcoming {
    status
    id
    type
  }

  capsules { 
    status
    id
    type
  }

  cores {
    status
    id
    types
  }
}
      `,
    }),
  }
)
  .then((resp) => resp.json())
  .then(console.log);
```

</Step>

</CodeSurferColumns>

---

# Demo time!

---


<Code>

```js
require("isomorphic-unfetch")(
  `https://api.spacex.land/graphql`,
  {
      method: 'POST',
  headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      query: `
        {
  capsulesUpcoming {
    status
    id
    type
  }

  capsules {
    status
    id
    type
  }

}
      `,
    }),
  }
)
  .then((resp) => resp.json())
  .then(console.log);
```

</Code>